import adventofcodeLibrary

let input = """
22222222202220222122122220002012022220202022212022220121220212222222221222222222\
22222222022222222222222122222222222222122222222222222022222222222122222222222221\
22202222222222211121122222202020222220222200222202222222222222222222222222222202\
22222222222221222222222222221222222222222221222222222221222222222222202222222222\
12222010200222222120202221212222222022220222222222022220222222222222222222222222\
22202222222222222212222222222222202222122222202222222222222122212220220222212021\
12022220222222222022221022220222222222220222222222222222220222222222222220222222\
22222222222222222222222122221202222122222222222221222022222222222221210212222121\
21222022222211202222122222222222222122222222222202222222222222202222222222222202\
22222222222222222222122222222222222222222220222022222221012122222222212222222122\
22202122120222222222122221222222222222022222222222222022222222222222022222222222\
22202222020222222222202222222022212222221222210221021222202222222021222201202202\
12222222220222212222222222221222222222222222222222222222222222222222222220222212\
12222022222222222221222122212222222112202212222122202220202222212222120222222222\
22222222222222222222222222222222222222222222222202222222222222222222222222222222\
20222222222220222222122221012102022220212222212122221220222212222222222222222222\
22222222022222222222222022222222222222222222222222222022220202202022222022222220\
22222221222222200022222222222022222121222201222222022222222212222122222222222212\
22222222222221222222222222222222222222222220222222222120222221222222212220222022\
22222001211212222221202221222222212122121222222222122221222222222222022222222222\
22212222222222222222222222222222202222022220202222222222222022202220221222222121\
22122222202022202022220020220222222222220222212222222222220222222222222220222222\
22222222022222222222222022222202222122222222222222222222222212222210212222222220\
21222021222222212202022222222222222122222222222202222222222222212222222222222212\
22222222222221222212222021222220222222202222222222222221222002222220202122222222\
22002222120222222222022221222222222222022222222222222222222222222222122222222222\
22202222220222202222202222222122212221222222221022121222222121222122222222212222\
22222222222222222222222222222222222222222222222222222222222222222222222222220202\
02212222222022222220222222222202222112202222222021212221202222002102122222222222\
22222222202222222212222222222222212222222222222212222222222222222212220222212222\
22222222222222222022022201012222122220222222212222220222120212222222222222212220\
22222222122222222222202222222222222222222222222222222022020222222122222022222221\
22222220202212002120021222212222222122222222201202222222222202222222212222222222\
22222222222021222222222222220222222222222221222200222020222221222222212222222220\
12021221211222222120202220202222102112220222222222022222222122222222222222222222\
20202222222222222212222222222222202212121221222222202222222122222220221202010022\
02222222202002212222220022222212222222221222202222222222220222222222222221222222\
20222222022222222222222122222222212222222022222220222222222002222120221202222222\
21222220222210201202102222222202222222212222222212222222222222202222222022222222\
22222222222220221210222021222221222222212221222122121202022002222220222122202122\
22102112221222222222022221222222222222022222222222222122222221222222022222222222\
22222212010221222222222222222022222220202212021121222222222221222122222221201222\
10222222221222222221222222222222222222222120222222212222222222222222222222220212\
02222222222222222222222222212002121210212222222222121221202222012002121122222222\
22222122202222222222222222222220222222222122222212222222222222220222010220202222\
20222222202222222220122211122102222220210202222122220121122210222222220222212222\
22222222122222222222202222222222222222222222222222222102122122202222222122222220\
22202222201202022221120222212102222221222201212202112222222212222022202222222212\
22222222222220222222202222221222222222222222121221222122222221222222202222222221\
12222011200212222220111220212222102202122122222222222221222222222222022222222222\
20222222222122222212222222222222200212120220202222212222222122212220211222111121\
02122222201002222022221020122212222222222222222220222222222222222222222120222212\
22222222022222222222222212222102222122222022222220222022222202022202212202222120\
00022121222202201222212222222202222122202222222222222222222220222222222222222202\
22222222222220222210122222122220222222202222222120122211002112022222220202222022\
22222102020122222222122221222122222222122222222222222022201221222222122222222222\
22211212120222022222212222222222212221202212012021021222212201122222222202211222\
12222222221222202220222222221222222222222120222200202222220212222222222222222210\
22200002222222222222222122202102220102201212222020110222212222222022222222222222\
22222222202222222212222222222220222221012122222222102222222222201212122221102222\
20222222212220222122122220002222022220222102212022221021021200220222222222212222\
22222222122222222222222222211020222222222022222222222212222002210202222122222222\
22222222201202201022020222202021122221222202202222122222222212222022212222222212\
22222220222121222211212222221200222222222222020222122020122220222222212220222222\
22121021200222222221000221222222002102221122122022222221222022222222222222222122\
21212220012022222202112222222222212202220220202222202222222222212221200222110122\
12122221202212222122221020222200220221220222212221222222222222222221122121222012\
22222222222222222222222202020122210122222022222220222222212212220000212222222220\
12122020222211222222212212202202222122212222222212222222220220212221222122222212\
01222222222220220201022112122222222222202220222022122202121122222222221022222020\
22202212221122122022122220222222222222222222222212222122202220222222022022222222\
22221222002221202222212202222222222221221202200202120222222100222121200220220212\
02222220222222202221222222222222222222202022222022222222220220222222222221122221\
12222022222222022221222022202112222211122212222220220120222222202202021022022122\
02222022222222222202222222202220222221222022222202122222222222222202100222020222\
20222222222220222120022210100222022221221101202022022120120222222222221222202222\
22222222222222222011212022202022222222022122222222222222120022200122222122122220\
22202221200212210020021222222100202221220221210202022212202202222222222202222222\
22222222112021222120222222220201222222222221221211122020022220221222212221222120\
22222211200202222121012221202202012222122122122122022222222122022222222222222101\
22222222022122222202112222222222200202111221010222202212222122222222210202122010\
22022220212021222221220220222210221220222222212221221222220012222221022222222212\
22222222221222222222222022222122210222222222022222222122222112120201102212222222\
21222221202211201212222202202202222122222202222222222222201221202221022122222202\
00222222222220021201122010122220222222212222222220221201101212022221222010202121\
12112110022222222122122220222122120222211222222002202222220220222222121022222222\
22201202110220001222212212222122212220202212212201222222222121222221201210220102\
22220222222222202220220202222102222222222020222212212222221201222222222220220200\
12210012222022122220222222202212120011000212222020221122202022222111020122122120\
02222222202212022212122222201220222220122122222212012222222222220222112222122222\
22220222212222022122022210101012122221221002212022121120202200221221221222202222\
22122222220222222200212122221122222222220222222222222002021202202212222122022222\
22220221211212100101121222202111002220202202221002222212202022222122202212122211\
22222220022222222001212222222202222222222222222212222101222221221222222220122222\
22222021010202222220012120212202122011122222022022022220222222221222021222222211\
22212221112222222212212222222222202222020210011222222212222222201221210202200220\
12120122220122212122020120102212221222200222222220221202222102222220122020222100\
20222222022022222222222212220112212002222122122202222002202212220020012212112221\
22012222201202222002112222212212222022202222022211022222200222212220022112222202\
01222222222221120200120100122222222222122221122120221220111102221220200211202220\
12022112220122122020022221222122022222011222222001212022222120122222022122202222\
22211202022210120222202202220222201221220202101122021201212120222222221200221122\
01221222201222222222222222222122222221122022222222221222222201222112220220121212\
02122112222122222221222002222122222021102222112120200221222102202020021122022220\
02222022212202222202122222200120212222202122222212112221022212200202210201221222\
21222212012221222022222202010122221222220122202120021021220220221221210222202220\
22122222212222222010222222202121222222120022222222022012120202200122222022222202\
22212221211202121020221202212120012221222210212102222222202012222022212222022211\
02222221202122222110221222222222222222220221121210120010022220222212122222022022\
02021001010202122122211021212122222001022122222021222222222222221221022222222021\
22202220002022222220212222222212211212221201200222202202122222200221201202120102\
12022121210122212021220021201202222221201222222222220202201022222220002222222200\
22022222001222211222022122220012221222222222122211222212202022020010220212002120\
12010222201221201012012212202022222222212212222002022222222221202220222222222220\
20222102221222120201221200022222221222012221122122220212100022221120211101212020\
12202022121022022120022222222022122220221222222100222122212021022222112222200222\
12211222010220102222212222021222211220222222220021220201202122201122200202220222\
12220220201222212221220222200022222221222221222121202222220202212112222220120212\
22201122222022020201222102202202120121210212122022002121222112112211121022022101\
22222122222202022021222222202021202221012102222211112221222202220222111210000222\
21220202112220122121222201222112021221200121102120121120001212220221200222202220\
22222222201222222020202222220120222222222020202222022212020022001222222022122201\
22222220220202012100220221202001102221222212222202012222201222222122212222022221\
12222220202022222220210222222202222212220220120211022201022220222202112222122020\
12221200120202222222002212212002212120022222222021022220222122021220021220222010\
22222222022122222220122120022222202202112222100222222222120122222221221112222202\
22122221201000222220020220000222221200211222222220221202222212202222222021222022\
22022222212022212222222002120202200002222222121202222212202120021102221202122120\
00010022222221222222102202022222222022222202222121022222210122202220102202222211\
20212102221222120211221111022221221202102222022201022201000102121121202202212221\
02012211022222220211022222222122021222101221022222202022220020222222100220201222\
22222212210201101222222222122222221220001012110121120200001121220022221212202002\
21222210220212202222221222211022210221122222222120220222222022212112221220221201\
02001012202022121202222022221210120220010212110002220110202122012220020022220001\
02222122222202022220222212200022222221002002222202202220122202212222000222102221\
21221222112220122021200220002112121121102110002021122022220221222210102202202222\
22122222202222022012112122202022022222010020201222222122221112020022202122220202\
12212222002022120221122211200102001120221201200012222222201002222222211222222210\
12211222002222220212210222220102202122221221121212220221122022222212200222022122\
00120210012212010011021010222022022200222222121110110222222012221222021222222222\
00202202022122222202102121222202221202112211110222222222020222202221102122120221\
12222101011221112121020101112212220221211222212220120202201002211220201222220110\
21122222121220202222222222021112021202222022021221022112222110121001210222202002\
10000121212200011102202202120011222222200222022220022222211102222220122202222200\
21222002222221021200021011122022221212012221222010121201010202020021000212012222\
22220010220022122021022220222202222221010220022121112022112020022222122121220222\
02221202110201200222212212120012201222122202212011020212012222100221212202001112\
02221210021222212211222202210202222222021121020122220222220020202102200221022220\
12010122222222120211222012212011021000011212002102220100202102112100020122221210\
02122122001202112100122122202111222210212202222212002221022122212212012211212221\
21221212102221122222210201100012212100120221202221221222202212220210220200222222\
02121220220220222020202102110220022222221220210220122102220122021112222122120221\
02220222221112001012122111022022110220212220021002012212111211122022200222002211\
22201201021120121100200222222122212112210222122210121000222122222212010221222010\
11022202001220222200002122222212122112221222222220012122200002120020212222021212\
12201222212222222211112021222112202222200221220222202202020022210221210102122211\
22212202111200012121021200001212220212200101222012102200212122201212200020122101\
22122222100020211222222222122012221212222022022201022012221022120202112210112020\
11222221212210221102112212122002012121101102102102022112001221220220122222220212\
21212122200222120211020102022121220202210222022220200221021122122020120012222122\
22112011220021222002111221201220020020200222120122112202100222222222200020200221\
02212222101220120222212212221112221222002212222012222000010211021020220222111122\
22202211212101222120111222220002201212002022020210212222120000202212211221120202\
02112012202222221200122122211022222122212210221012000020222112202011121222221121\
20102222102002212002222112201220201221212220221201102221122102201222112210020220\
21222212001210222021102201200212000021111000002221122011200222222221022000212122\
21020021202221020021102022110122102212201022201222222002120202000212202022221202\
12202222000222121211221210210121000021211212101102212112201011002121211112112222\
22200200020120222210201021020002200002201222022220022202022221222212100200122212\
12121010000212120122022120202222111020222020220120100122220211101122002220211110\
00220200022000201201102121122102200202001222220222012212222212121220011112111022\
22121020011101102220022010001200211210101211202121001112222002210202221222220020\
21102222211120012220122112122202001212201122120202120122202211121112000011020022\
01122220200222002112202002202011012022020211202002222120122022210211122201210222\
10200112200222210212222022222001221212202200022121201201122222100020210201022022\
12212220220121021221112022221122222121111221020222222012201221202022201120021222\
02221222000221102201012212121112110222111022100102120101201020202221201222022102\
22212210201211222000200122212012222202221122121000212120220222220222212222210201\
22120122101022022201121120200011220110021000002001222002212222221212202222020022\
21002021121001222210222100110022200220222121221211112212122012201222202221101200\
20220222221210002201221221222220012011021012102210120021002110211202201212222112\
00201122202220000200202102122020212222211121200221122011222102120202021122021201\
22010020201112101222220000120002002022210210022220012112200011212221201012002222\
12221102010121221122212122022120202122220222211212122222021220221212121220102211\
02121101111100101022201122211012122021022122222112011020221120220110112222102210\
02210201112020222201012121022112100022120222121220211120211001120210211020102000\
20010211202120110201200022012101020121212201020200111020001220010002202002211011\
1220010011010002010011201000010122212121
"""

func Day8() {
    let image = Image.FromString( width:25, height:6, pixels:input)

    let result = image.layers
        .map{($0.NumberOf(0), $0.NumberOf(1)*$0.NumberOf(2))}
        .sorted(by: { $0.0 > $1.0 })
    print("The result is \(result)")
}

func Day8Part2() {
    let image = Image.FromString( width:25, height:6, pixels:input)

    func Render(_ value: Int) -> String {
        return value == 0 ? " " : "*"
    }

    for row in image.Render() {
        print(row.map{Render($0)}.joined())
    }
}
